openapi: 3.0.3
info:
  title: Cloud Between API
  description: |
    êµ¬ë¦„ ì‚¬ì´ (Cloud Between) ì„œë¹„ìŠ¤ API ëª…ì„¸

    ## ì„œë¹„ìŠ¤ ê°œìš”
    "êµ¬ë¦„ ì‚¬ì´"ëŠ” í•˜ëŠ˜ê³¼ êµ¬ë¦„ì„ í…Œë§ˆë¡œ í•œ ì‹¬ë¦¬ ì§„ë‹¨ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
    ì‚¬ìš©ìëŠ” 12ë‹¨ê³„ì˜ ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ìì‹ ì˜ êµ¬ë¦„ í˜ë¥´ì†Œë‚˜(Cloud Type)ë¥¼ ë°œê²¬í•˜ê³ ,
    ë‹¤ë¥¸ êµ¬ë¦„ ìœ í˜•ê³¼ì˜ ê¶í•©(Chemistry)ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

    ## 6ê°€ì§€ êµ¬ë¦„ ìœ í˜• (Cloud Types)
    | Type Key | ì´ë¦„ | ì„¤ëª… |
    |----------|------|------|
    | `sunlit` | í–‡ì‚´ êµ¬ë¦„ | ë°ê³  ë”°ëœ»í•œ ì—ë„ˆì§€, ì£¼ë³€ì„ í™˜í•˜ê²Œ ë§Œë“œëŠ” ì¡´ì¬ |
    | `mist` | ì•ˆê°œ êµ¬ë¦„ | ì‹ ë¹„ë¡­ê³  ì¡°ìš©í•œ ë¶„ìœ„ê¸°, ê¹Šì€ ë‚´ë©´ì˜ ì„¸ê³„ |
    | `storm` | í­í’ êµ¬ë¦„ | ê°•ë ¬í•œ ê°ì •ê³¼ ì—ë„ˆì§€, ë³€í™”ë¥¼ ì´ë„ëŠ” í˜ |
    | `dawn` | ìƒˆë²½ êµ¬ë¦„ | í¬ë§ì ì´ê³  ìƒˆë¡œìš´ ì‹œì‘, ì”ì”í•œ ì˜ê° |
    | `shade` | ê·¸ëŠ˜ êµ¬ë¦„ | ì°¨ë¶„í•˜ê³  ë³´í˜¸ì ì¸ ì„±í–¥, ì•ˆì •ê°ì„ ì£¼ëŠ” ì¡´ì¬ |
    | `wild` | ì•¼ìƒ êµ¬ë¦„ | ììœ ë¡­ê³  ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥, ì°½ì˜ì ì¸ ì—ë„ˆì§€ |

    ## ì£¼ìš” í”Œë¡œìš°
    1. **ì‹¬ë¦¬ ì§„ë‹¨** (`/diagnosis`): 12ë‹¨ê³„ ì§ˆë¬¸ â†’ ë‹µë³€ ì œì¶œ â†’ êµ¬ë¦„ ìœ í˜• ê²°ê³¼
    2. **í˜ë¥´ì†Œë‚˜ ì¡°íšŒ** (`/personas`): ê° êµ¬ë¦„ ìœ í˜•ì˜ ìƒì„¸ í”„ë¡œí•„ í™•ì¸
    3. **ê¶í•© ì¡°íšŒ** (`/chemistries`): ë‘ êµ¬ë¦„ ìœ í˜• ê°„ì˜ ê´€ê³„ì„± í™•ì¸

    ## ì•„í‚¤í…ì²˜ ì›ì¹™
    - ë„ë©”ì¸ ê°„ ê²©ë²½(Wall)ì„ ìœ„í•´ ORM ìˆ˜ì¤€ì˜ ì—°ê´€ê´€ê³„(Join)ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    - ê° ë„ë©”ì¸ì€ ë…ë¦½ì ì¸ ê°œë…(Concept)ìœ¼ë¡œ ê´€ë¦¬ë©ë‹ˆë‹¤.
    - ë¹„íšŒì›ë„ ì§„ë‹¨ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°, íšŒì›ì€ ê²°ê³¼ê°€ ì €ì¥ë©ë‹ˆë‹¤.
  version: 1.0.0
servers:
  - url: https://cloud-between.duckdns.org/api/v1
    description: ìš´ì˜ ì„œë²„
  - url: http://localhost:8081/api/v1
    description: ë¡œì»¬ ì„œë²„

tags:
  - name: Diagnosis
    description: |
      ì‹¬ë¦¬ ì§„ë‹¨ API.
      12ë‹¨ê³„(Step)ë¡œ êµ¬ì„±ëœ êµ¬ë¦„ ì„±ê²© ì§„ë‹¨ í…ŒìŠ¤íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
      ê° ë‹¨ê³„ì—ëŠ” ì—¬ëŸ¬ ì§ˆë¬¸ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë‹¨ê³„ë³„ë¡œ ëœë¤ ì§ˆë¬¸ì„ ì„ íƒí•˜ì—¬ ë³´ì—¬ì¤ë‹ˆë‹¤.
      ë¹„íšŒì›ë„ ì§„ë‹¨ ê°€ëŠ¥í•˜ë©°, ë¡œê·¸ì¸í•œ íšŒì›ì˜ ê²°ê³¼ëŠ” ì„œë²„ì— ì €ì¥ë©ë‹ˆë‹¤.
  - name: Persona
    description: |
      í˜ë¥´ì†Œë‚˜ í”„ë¡œí•„ API.
      6ê°€ì§€ êµ¬ë¦„ ìœ í˜•(sunlit, mist, storm, dawn, shade, wild)ì˜ ìƒì„¸ í”„ë¡œí•„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
      ê° í”„ë¡œí•„ì—ëŠ” ì´ë¦„, ì´ëª¨ì§€, ë¶€ì œëª©, í‚¤ì›Œë“œ, ë¡œì–´(ì„¤ëª…), ê°•ì , ê·¸ë¦¼ì(ì•½ì ) ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.
      ë‹¤êµ­ì–´(locale) ì§€ì›ìœ¼ë¡œ í•œêµ­ì–´(ko), ì˜ì–´(en) ë“±ì˜ ì»¨í…ì¸ ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
  - name: Chemistry
    description: |
      ê¶í•© API.
      ë‘ êµ¬ë¦„ ìœ í˜• ê°„ì˜ ê´€ê³„ì„±ê³¼ ê¶í•© ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
      6ê°€ì§€ ìœ í˜•ì˜ ëª¨ë“  ì¡°í•©(15ê°œ)ì— ëŒ€í•´ í•˜ëŠ˜ ì´ë¦„, í˜„ìƒ, ì„œì‚¬, ì£¼ì˜ì‚¬í•­ ë“±ì˜ ê¶í•© ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
      ì˜ˆ: sunlit + storm = "ë²ˆê°œê°€ ì¹˜ëŠ” í–‡ì‚´ í•˜ëŠ˜"
  - name: User
    description: |
      ì‚¬ìš©ì ì¸ì¦ API.
      ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ íšŒì›ê°€ì…, ë¡œê·¸ì¸, ì†Œì…œ ë¡œê·¸ì¸(Google, Apple, Kakao)ì„ ì§€ì›í•©ë‹ˆë‹¤.

paths:
  /users/signup:
    post:
      tags: [User]
      summary: íšŒì›ê°€ì…
      description: ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ì‹ ê·œ ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤.
      operationId: signup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignupRequest'
      responses:
        '201':
          description: ê°€ì… ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'

  /users/login:
    post:
      tags: [User]
      summary: ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸
      description: ë“±ë¡ëœ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
      operationId: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: ë¡œê·¸ì¸ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'

  /users/login/social:
    post:
      tags: [User]
      summary: ì†Œì…œ ë¡œê·¸ì¸ (ì—†ìœ¼ë©´ ìë™ íšŒì›ê°€ì…)
      description: |
        ì†Œì…œ ë¡œê·¸ì¸ í”Œë¡œìš°:
        1. social_id + providerë¡œ ê¸°ì¡´ ìœ ì € ì¡°íšŒ
        2. ìˆìœ¼ë©´ â†’ ë¡œê·¸ì¸ ì²˜ë¦¬ (last_login_at ê°±ì‹ )
        3. ì—†ìœ¼ë©´ â†’ ìë™ íšŒì›ê°€ì… í›„ ìœ ì € ë°˜í™˜

        í´ë¼ì´ì–¸íŠ¸ëŠ” ê°€ì…/ë¡œê·¸ì¸ êµ¬ë¶„ ì—†ì´ ì´ ì—”ë“œí¬ì¸íŠ¸ í•˜ë‚˜ë§Œ í˜¸ì¶œí•˜ë©´ ë©ë‹ˆë‹¤.
      operationId: socialLogin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SocialLoginRequest'
      responses:
        '200':
          description: ë¡œê·¸ì¸ ì„±ê³µ (ê¸°ì¡´ ìœ ì €)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '201':
          description: ìë™ íšŒì›ê°€ì… í›„ ë¡œê·¸ì¸ ì„±ê³µ (ì‹ ê·œ ìœ ì €)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '400':
          description: ì§€ì›í•˜ì§€ ì•ŠëŠ” provider ë˜ëŠ” ì˜ëª»ëœ ìš”ì²­

  /diagnosis/questions:
    get:
      tags: [Diagnosis]
      summary: ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ ì§ˆë¬¸ ëª©ë¡ ì¡°íšŒ (ë‹¨ê³„ë³„)
      description: |
        12ë‹¨ê³„ë¡œ êµ¬ì„±ëœ ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ ì§ˆë¬¸ì„ ë‹¨ê³„(Step) ë‹¨ìœ„ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

        **ì‘ë‹µ êµ¬ì¡°**: Step[] â†’ ê° Step ì•ˆì— Question[] â†’ ê° Question ì•ˆì— Option[]

        **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ë°©ì‹**:
        - ê° Stepì— í¬í•¨ëœ questions ë°°ì—´ì—ì„œ ëœë¤ìœ¼ë¡œ 1ê°œì˜ ì§ˆë¬¸ì„ ì„ íƒí•˜ì—¬ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ
        - ì´ 12ë‹¨ê³„ì´ë¯€ë¡œ, ì‚¬ìš©ìëŠ” 12ê°œì˜ ì§ˆë¬¸ì— ë‹µë³€í•˜ê²Œ ë©ë‹ˆë‹¤
        - ê° ì§ˆë¬¸ì˜ ì„ íƒì§€(options)ì—ëŠ” cloudTypeì´ í¬í•¨ë˜ì–´ ìˆì–´ ë‹µë³€ ì§‘ê³„ì— ì‚¬ìš©ë©ë‹ˆë‹¤

        **ì¸ì¦**: ë¶ˆí•„ìš” (ë¹„íšŒì›ë„ ì¡°íšŒ ê°€ëŠ¥)
      operationId: getQuestions
      parameters:
        - name: locale
          in: query
          description: |
            ë‹¤êµ­ì–´ ì½”ë“œ. í•´ë‹¹ ì–¸ì–´ë¡œ ì‘ì„±ëœ ì§ˆë¬¸/ì„ íƒì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
            í˜„ì¬ ì§€ì›: `ko` (í•œêµ­ì–´), `en` (ì˜ì–´)
          schema:
            type: string
            default: ko
            enum: [ko, en]
      responses:
        '200':
          description: ë‹¨ê³„ë³„ ì§ˆë¬¸ ëª©ë¡ ë°˜í™˜
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StepResponse'
              example:
                - id: 1
                  title: "ê°ì • í‘œí˜„"
                  emoji: "ğŸ’­"
                  questions:
                    - id: 1
                      text: "ê¸°ë¶„ì´ ì•ˆ ì¢‹ì„ ë•Œ ë‚˜ëŠ”..."
                      options:
                        - text: "ë°ì€ ì²™ ì›ƒìœ¼ë©° ë„˜ê¸´ë‹¤"
                          cloudType: "sunlit"
                        - text: "í˜¼ì ì¡°ìš©íˆ ì‚­ì¸ë‹¤"
                          cloudType: "mist"
                        - text: "í™”ë¥¼ ë°”ë¡œ í‘œí˜„í•œë‹¤"
                          cloudType: "storm"
                        - text: "ì¼ê¸°ì— ì“°ê±°ë‚˜ ì •ë¦¬í•œë‹¤"
                          cloudType: "dawn"
                    - id: 2
                      text: "ê°ì •ì„ í‘œí˜„í•  ë•Œ ë‚˜ëŠ”..."
                      options:
                        - text: "í‘œì •ìœ¼ë¡œ ë‹¤ ë“œëŸ¬ë‚œë‹¤"
                          cloudType: "sunlit"
                        - text: "ê¸€ì´ë‚˜ ì˜ˆìˆ ë¡œ í‘œí˜„í•œë‹¤"
                          cloudType: "mist"

  /diagnosis/analyze:
    post:
      tags: [Diagnosis]
      summary: ë‹µë³€ ê¸°ë°˜ êµ¬ë¦„ ìœ í˜• ì§„ë‹¨
      description: |
        ì‚¬ìš©ìì˜ ë‹µë³€(12ê°œ)ì„ ë¶„ì„í•˜ì—¬ ê°€ì¥ ë§ì´ ì„ íƒëœ êµ¬ë¦„ ìœ í˜•(cloudType)ì„ ê²°ê³¼ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

        **ì§„ë‹¨ ë¡œì§**:
        1. ê° ë‹µë³€ì˜ cloudTypeì„ ì§‘ê³„í•©ë‹ˆë‹¤
        2. ê°€ì¥ ë§ì´ ì„ íƒëœ cloudTypeì´ ìµœì¢… ê²°ê³¼ê°€ ë©ë‹ˆë‹¤
        3. ê²°ê³¼ì˜ personaType í•„ë“œë¡œ ë°˜í™˜ë©ë‹ˆë‹¤

        **ê²°ê³¼ ì €ì¥**:
        - Authorization í—¤ë”ê°€ ìˆëŠ” ê²½ìš°(ë¡œê·¸ì¸ ìœ ì €): ì§„ë‹¨ ê²°ê³¼ê°€ DBì— ì €ì¥ë©ë‹ˆë‹¤
        - Authorization í—¤ë”ê°€ ì—†ëŠ” ê²½ìš°(ë¹„íšŒì›): ê²°ê³¼ë§Œ ë°˜í™˜í•˜ê³  ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤

        **ì¸ì¦**: ì„ íƒì  (ë¹„íšŒì›ë„ ì§„ë‹¨ ê°€ëŠ¥, íšŒì›ì€ ê²°ê³¼ ì €ì¥)
      operationId: analyzeDiagnosis
      parameters:
        - name: Authorization
          in: header
          required: false
          description: |
            ë¡œê·¸ì¸ ìœ ì €ì˜ ì¸ì¦ í† í° (Bearer).
            ìˆìœ¼ë©´ ì§„ë‹¨ ê²°ê³¼ë¥¼ ì„œë²„ì— ì €ì¥í•©ë‹ˆë‹¤. ì—†ìœ¼ë©´ ê²°ê³¼ë§Œ ë°˜í™˜í•©ë‹ˆë‹¤.
          schema:
            type: string
            example: "Bearer eyJhbGciOiJIUzI1NiIs..."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DiagnosisRequest'
            example:
              answers:
                - questionId: 1
                  cloudType: "sunlit"
                - questionId: 5
                  cloudType: "mist"
                - questionId: 9
                  cloudType: "sunlit"
                - questionId: 13
                  cloudType: "storm"
                - questionId: 17
                  cloudType: "sunlit"
                - questionId: 21
                  cloudType: "dawn"
                - questionId: 25
                  cloudType: "sunlit"
                - questionId: 29
                  cloudType: "shade"
                - questionId: 33
                  cloudType: "wild"
                - questionId: 37
                  cloudType: "sunlit"
                - questionId: 41
                  cloudType: "mist"
                - questionId: 45
                  cloudType: "sunlit"
      responses:
        '200':
          description: |
            ì§„ë‹¨ ê²°ê³¼ ë°˜í™˜. personaType í•„ë“œì— ê°€ì¥ ë§ì´ ì„ íƒëœ êµ¬ë¦„ ìœ í˜•ì´ ë‹´ê¹ë‹ˆë‹¤.
            ì´ ê°’ìœ¼ë¡œ `/personas/profiles/{typeKey}` APIë¥¼ í˜¸ì¶œí•˜ë©´ ìƒì„¸ í”„ë¡œí•„ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiagnosisResult'
              example:
                personaType: "sunlit"
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ (answers ëˆ„ë½ ë˜ëŠ” í˜•ì‹ ì˜¤ë¥˜)

  /chemistries:
    get:
      tags: [Chemistry]
      summary: ì „ì²´ ê¶í•© ëª©ë¡ ì¡°íšŒ (15ê°œ ì¡°í•©)
      description: |
        6ê°€ì§€ êµ¬ë¦„ ìœ í˜• ê°„ ê°€ëŠ¥í•œ ëª¨ë“  ê¶í•© ì¡°í•©(15ê°œ)ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

        **ì¡°í•© ìˆ˜**: 6C2 = 15ê°€ì§€ (sunlit-mist, sunlit-storm, ... , shade-wild)

        ê° ê¶í•©ì—ëŠ” ë‘ ìœ í˜•ì´ ë§Œë‚¬ì„ ë•Œì˜ í•˜ëŠ˜ ì´ë¦„(skyName), ìì—° í˜„ìƒ(phenomenon),
        ì„œì‚¬(narrative), ì£¼ì˜ì‚¬í•­(warning) ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.

        **ì‚¬ìš© ì‚¬ë¡€**:
        - ì „ì²´ ê¶í•©í‘œ ë Œë”ë§
        - ê¶í•© ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ í™”ë©´
      operationId: getAllChemistries
      responses:
        '200':
          description: ì „ì²´ ê¶í•© ëª©ë¡ (15ê°œ)
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ChemistryResponse'
              example:
                - personaType1: "sunlit"
                  personaType2: "mist"
                  skyName: "ë¬´ì§€ê°œ ì•ˆê°œ í•˜ëŠ˜"
                  phenomenon: "ì•ˆê°œ ì†ì—ì„œ ë¹›ì´ í¼ì§€ë©° ë¬´ì§€ê°œê°€ í”¼ì–´ë‚¨"
                  narrative: "ë°ì€ ì—ë„ˆì§€ì™€ ê³ ìš”í•œ ê°ì„±ì´ ë§Œë‚˜ ì„œë¡œì—ê²Œ ìƒˆë¡œìš´ ìƒ‰ì„ ì…í˜€ì¤€ë‹¤"
                  warning: "ì„œë¡œì˜ ì†ë„ ì°¨ì´ë¥¼ ì¸ì •í•´ì•¼ í•œë‹¤"

  /chemistries/match:
    get:
      tags: [Chemistry]
      summary: ë‘ êµ¬ë¦„ ìœ í˜•ì˜ ê¶í•© ì¡°íšŒ
      description: |
        íŠ¹ì • ë‘ êµ¬ë¦„ ìœ í˜•ì˜ ê¶í•© ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
        type1ê³¼ type2ì˜ ìˆœì„œëŠ” ë¬´ê´€í•©ë‹ˆë‹¤ (sunlit+mist = mist+sunlit).

        **ì‚¬ìš© ì‚¬ë¡€**:
        - ì§„ë‹¨ ê²°ê³¼ í›„ ì¹œêµ¬ì™€ì˜ ê¶í•© í™•ì¸
        - ë‘ ìœ í˜•ì„ ì„ íƒí•˜ì—¬ ê¶í•© ìƒì„¸ ë³´ê¸°
      operationId: getChemistry
      parameters:
        - name: type1
          in: query
          required: true
          description: ì²« ë²ˆì§¸ êµ¬ë¦„ ìœ í˜•
          schema:
            type: string
            enum: [sunlit, mist, storm, dawn, shade, wild]
          example: sunlit
        - name: type2
          in: query
          required: true
          description: ë‘ ë²ˆì§¸ êµ¬ë¦„ ìœ í˜•
          schema:
            type: string
            enum: [sunlit, mist, storm, dawn, shade, wild]
          example: mist
      responses:
        '200':
          description: ê¶í•© ê²°ê³¼ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChemistryResponse'
        '400':
          description: type1 ë˜ëŠ” type2 ëˆ„ë½
        '404':
          description: í•´ë‹¹ ì¡°í•©ì˜ ê¶í•© ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ

  /personas/profiles:
    get:
      tags: [Persona]
      summary: ì „ì²´ í˜ë¥´ì†Œë‚˜ í”„ë¡œí•„ ëª©ë¡ ì¡°íšŒ
      description: |
        6ê°€ì§€ êµ¬ë¦„ ìœ í˜•ì˜ ìƒì„¸ í”„ë¡œí•„ ì •ë³´ë¥¼ ëª¨ë‘ ë°˜í™˜í•©ë‹ˆë‹¤.

        ê° í”„ë¡œí•„ì—ëŠ” ë‹¤ìŒ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤:
        - **typeKey**: êµ¬ë¦„ ìœ í˜• ì‹ë³„ì (sunlit, mist, storm, dawn, shade, wild)
        - **name**: êµ¬ë¦„ ìœ í˜•ì˜ í•œê¸€ ì´ë¦„ (ì˜ˆ: "í–‡ì‚´ êµ¬ë¦„")
        - **emoji**: ëŒ€í‘œ ì´ëª¨ì§€ (ì˜ˆ: "â˜€ï¸")
        - **subtitle**: í•œ ì¤„ ì„¤ëª…
        - **keywords**: ì„±ê²© í‚¤ì›Œë“œ ë°°ì—´ (ì˜ˆ: ["ë°ì€", "ë”°ëœ»í•œ", "ì‚¬êµì ì¸"])
        - **lore**: êµ¬ë¦„ ìœ í˜•ì— ëŒ€í•œ ì„œì‚¬/ì„¤ëª…
        - **strengths**: ê°•ì  ëª©ë¡
        - **shadows**: ê·¸ë¦¼ì(ì•½ì ) ëª©ë¡

        **ì‚¬ìš© ì‚¬ë¡€**:
        - ì „ì²´ êµ¬ë¦„ ìœ í˜• ì†Œê°œ í˜ì´ì§€
        - ì§„ë‹¨ ê²°ê³¼ í›„ ëª¨ë“  ìœ í˜• ë¹„êµ í™”ë©´
      operationId: getPersonaProfiles
      parameters:
        - name: locale
          in: query
          description: |
            ë‹¤êµ­ì–´ ì½”ë“œ. í•´ë‹¹ ì–¸ì–´ì˜ í”„ë¡œí•„ ì»¨í…ì¸ ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
            í˜„ì¬ ì§€ì›: `ko` (í•œêµ­ì–´), `en` (ì˜ì–´)
          schema:
            type: string
            default: ko
            enum: [ko, en]
      responses:
        '200':
          description: 6ê°€ì§€ êµ¬ë¦„ ìœ í˜•ì˜ í”„ë¡œí•„ ëª©ë¡
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PersonaProfileResponse'

  /personas/profiles/{typeKey}:
    get:
      tags: [Persona]
      summary: íŠ¹ì • êµ¬ë¦„ ìœ í˜• í”„ë¡œí•„ ì¡°íšŒ
      description: |
        íŠ¹ì • êµ¬ë¦„ ìœ í˜•ì˜ ìƒì„¸ í”„ë¡œí•„ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        ì§„ë‹¨ ê²°ê³¼ë¡œ ë°›ì€ personaType ê°’ì„ typeKeyë¡œ ì‚¬ìš©í•˜ì—¬ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

        **ì‚¬ìš© ì‚¬ë¡€**:
        - ì§„ë‹¨ ê²°ê³¼ í™”ë©´ì—ì„œ í•´ë‹¹ ìœ í˜•ì˜ ìƒì„¸ í”„ë¡œí•„ í‘œì‹œ
        - íŠ¹ì • êµ¬ë¦„ ìœ í˜• ìƒì„¸ í˜ì´ì§€
      operationId: getPersonaProfile
      parameters:
        - name: typeKey
          in: path
          required: true
          description: êµ¬ë¦„ ìœ í˜• ì‹ë³„ì
          schema:
            type: string
            enum: [sunlit, mist, storm, dawn, shade, wild]
          example: sunlit
        - name: locale
          in: query
          description: |
            ë‹¤êµ­ì–´ ì½”ë“œ. í•´ë‹¹ ì–¸ì–´ì˜ í”„ë¡œí•„ ì»¨í…ì¸ ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
            í˜„ì¬ ì§€ì›: `ko` (í•œêµ­ì–´), `en` (ì˜ì–´)
          schema:
            type: string
            default: ko
            enum: [ko, en]
      responses:
        '200':
          description: í•´ë‹¹ êµ¬ë¦„ ìœ í˜•ì˜ í”„ë¡œí•„ ì •ë³´
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PersonaProfileResponse'
        '404':
          description: í•´ë‹¹ typeKeyì˜ í˜ë¥´ì†Œë‚˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ

components:
  schemas:
    CloudType:
      type: string
      enum: [sunlit, mist, storm, dawn, shade, wild]
      description: |
        êµ¬ë¦„ ìœ í˜• ì‹ë³„ì.
        - `sunlit`: í–‡ì‚´ êµ¬ë¦„ - ë°ê³  ë”°ëœ»í•œ ì—ë„ˆì§€
        - `mist`: ì•ˆê°œ êµ¬ë¦„ - ì‹ ë¹„ë¡­ê³  ì¡°ìš©í•œ ë¶„ìœ„ê¸°
        - `storm`: í­í’ êµ¬ë¦„ - ê°•ë ¬í•œ ê°ì •ê³¼ ì—ë„ˆì§€
        - `dawn`: ìƒˆë²½ êµ¬ë¦„ - í¬ë§ì ì´ê³  ìƒˆë¡œìš´ ì‹œì‘
        - `shade`: ê·¸ëŠ˜ êµ¬ë¦„ - ì°¨ë¶„í•˜ê³  ë³´í˜¸ì ì¸ ì„±í–¥
        - `wild`: ì•¼ìƒ êµ¬ë¦„ - ììœ ë¡­ê³  ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥

    SignupRequest:
      type: object
      required: [email, password]
      properties:
        email:
          type: string
          format: email
          description: ê°€ì…í•  ì´ë©”ì¼ ì£¼ì†Œ
          example: "user@example.com"
        password:
          type: string
          minLength: 8
          description: ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 8ì)

    LoginRequest:
      type: object
      required: [email, password]
      properties:
        email:
          type: string
          format: email
          description: ë¡œê·¸ì¸ ì´ë©”ì¼
          example: "user@example.com"
        password:
          type: string
          description: ë¹„ë°€ë²ˆí˜¸

    SocialLoginRequest:
      type: object
      required: [socialId, provider, email]
      properties:
        socialId:
          type: string
          description: ì†Œì…œ ì œê³µìì—ì„œ ë°œê¸‰í•œ ê³ ìœ  ì‚¬ìš©ì ID
          example: "1234567890"
        provider:
          type: string
          enum: [GOOGLE, APPLE, KAKAO]
          description: ì†Œì…œ ë¡œê·¸ì¸ ì œê³µì
        email:
          type: string
          format: email
          description: ì†Œì…œ ê³„ì •ì— ì—°ê²°ëœ ì´ë©”ì¼
          example: "user@gmail.com"

    UserResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
          description: ì‚¬ìš©ì ê³ ìœ  ID
        email:
          type: string
          description: ì´ë©”ì¼ ì£¼ì†Œ
        isPaid:
          type: boolean
          description: ìœ ë£Œ íšŒì› ì—¬ë¶€
        createdAt:
          type: string
          format: date-time
          description: ê°€ì… ì¼ì‹œ

    StepResponse:
      type: object
      description: |
        ì§„ë‹¨ í…ŒìŠ¤íŠ¸ì˜ í•œ ë‹¨ê³„(Step).
        ì´ 12ë‹¨ê³„ë¡œ êµ¬ì„±ë˜ë©°, ê° ë‹¨ê³„ì—ëŠ” ì—¬ëŸ¬ ì§ˆë¬¸ì´ í¬í•¨ë©ë‹ˆë‹¤.
        í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” ê° ë‹¨ê³„ì˜ questions ì¤‘ ëœë¤ 1ê°œë¥¼ ì„ íƒí•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤.
      properties:
        id:
          type: integer
          description: ë‹¨ê³„ ID (1~12)
          example: 1
        title:
          type: string
          description: ë‹¨ê³„ ì œëª© (í•´ë‹¹ ë‹¨ê³„ì˜ ì£¼ì œ)
          example: "ê°ì • í‘œí˜„"
        emoji:
          type: string
          description: ë‹¨ê³„ë¥¼ ëŒ€í‘œí•˜ëŠ” ì´ëª¨ì§€
          example: "ğŸ’­"
        questions:
          type: array
          description: í•´ë‹¹ ë‹¨ê³„ì— ì†í•œ ì§ˆë¬¸ ëª©ë¡ (ì´ ì¤‘ ëœë¤ 1ê°œë¥¼ ì„ íƒí•˜ì—¬ ì‚¬ìš©)
          items:
            $ref: '#/components/schemas/QuestionResponse'

    QuestionResponse:
      type: object
      description: ê°œë³„ ì§ˆë¬¸. ê° ì§ˆë¬¸ì—ëŠ” 4ê°œì˜ ì„ íƒì§€ê°€ í¬í•¨ë˜ë©°, ê° ì„ íƒì§€ëŠ” íŠ¹ì • êµ¬ë¦„ ìœ í˜•ê³¼ ë§¤í•‘ë©ë‹ˆë‹¤.
      properties:
        id:
          type: integer
          description: ì§ˆë¬¸ ê³ ìœ  ID
          example: 1
        text:
          type: string
          description: ì§ˆë¬¸ ë³¸ë¬¸
          example: "ê¸°ë¶„ì´ ì•ˆ ì¢‹ì„ ë•Œ ë‚˜ëŠ”..."
        options:
          type: array
          description: ì„ íƒì§€ ëª©ë¡ (ë³´í†µ 4ê°œ, ê°ê° ë‹¤ë¥¸ cloudTypeì— ë§¤í•‘)
          items:
            $ref: '#/components/schemas/OptionResponse'

    OptionResponse:
      type: object
      description: ì§ˆë¬¸ì˜ ì„ íƒì§€. ê° ì„ íƒì§€ë¥¼ ì„ íƒí•˜ë©´ í•´ë‹¹ cloudTypeì— 1ì ì´ ë¶€ì—¬ë©ë‹ˆë‹¤.
      properties:
        text:
          type: string
          description: ì„ íƒì§€ í…ìŠ¤íŠ¸
          example: "ë°ì€ ì²™ ì›ƒìœ¼ë©° ë„˜ê¸´ë‹¤"
        cloudType:
          $ref: '#/components/schemas/CloudType'

    DiagnosisRequest:
      type: object
      required: [answers]
      description: |
        ì§„ë‹¨ ë¶„ì„ ìš”ì²­. 12ê°œì˜ ë‹µë³€(ê° ë‹¨ê³„ì—ì„œ 1ê°œì”©)ì„ ë°°ì—´ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
        ê° ë‹µë³€ì—ëŠ” ì„ íƒí•œ ì§ˆë¬¸ì˜ IDì™€ í•´ë‹¹ ì„ íƒì§€ì˜ cloudTypeì„ í¬í•¨í•©ë‹ˆë‹¤.
      properties:
        answers:
          type: array
          description: ì‚¬ìš©ì ë‹µë³€ ë°°ì—´ (12ê°œ)
          minItems: 12
          maxItems: 12
          items:
            $ref: '#/components/schemas/UserAnswer'

    UserAnswer:
      type: object
      required: [questionId, cloudType]
      description: ê°œë³„ ë‹µë³€. ì–´ë–¤ ì§ˆë¬¸ì—ì„œ ì–´ë–¤ êµ¬ë¦„ ìœ í˜•ì„ ì„ íƒí–ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
      properties:
        questionId:
          type: integer
          description: ì‘ë‹µí•œ ì§ˆë¬¸ì˜ ID
          example: 1
        cloudType:
          $ref: '#/components/schemas/CloudType'

    DiagnosisResult:
      type: object
      description: |
        ì§„ë‹¨ ê²°ê³¼. 12ê°œì˜ ë‹µë³€ì—ì„œ ê°€ì¥ ë§ì´ ì„ íƒëœ êµ¬ë¦„ ìœ í˜•ì´ ìµœì¢… ê²°ê³¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.
        ì´ personaType ê°’ìœ¼ë¡œ `/personas/profiles/{typeKey}` APIë¥¼ í˜¸ì¶œí•˜ë©´ ìƒì„¸ í”„ë¡œí•„ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      properties:
        personaType:
          $ref: '#/components/schemas/CloudType'

    ChemistryResponse:
      type: object
      description: |
        ë‘ êµ¬ë¦„ ìœ í˜• ê°„ì˜ ê¶í•© ì •ë³´.
        ë‘ ìœ í˜•ì´ ë§Œë‚¬ì„ ë•Œ ì–´ë–¤ í•˜ëŠ˜ì´ í¼ì³ì§€ëŠ”ì§€ë¥¼ ìì—° í˜„ìƒ ë©”íƒ€í¬ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.
      properties:
        personaType1:
          $ref: '#/components/schemas/CloudType'
        personaType2:
          $ref: '#/components/schemas/CloudType'
        skyName:
          type: string
          description: ë‘ êµ¬ë¦„ì´ ë§Œë“¤ì–´ë‚´ëŠ” í•˜ëŠ˜ì˜ ì´ë¦„
          example: "ë¬´ì§€ê°œ ì•ˆê°œ í•˜ëŠ˜"
        phenomenon:
          type: string
          description: ë‘ êµ¬ë¦„ì´ ë§Œë‚¬ì„ ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ìì—° í˜„ìƒ ë¬˜ì‚¬
          example: "ì•ˆê°œ ì†ì—ì„œ ë¹›ì´ í¼ì§€ë©° ë¬´ì§€ê°œê°€ í”¼ì–´ë‚¨"
        narrative:
          type: string
          description: ë‘ ìœ í˜•ì˜ ê´€ê³„ì— ëŒ€í•œ ì„œì‚¬ì  ì„¤ëª…
          example: "ë°ì€ ì—ë„ˆì§€ì™€ ê³ ìš”í•œ ê°ì„±ì´ ë§Œë‚˜ ì„œë¡œì—ê²Œ ìƒˆë¡œìš´ ìƒ‰ì„ ì…í˜€ì¤€ë‹¤"
        warning:
          type: string
          description: ì´ ê¶í•©ì—ì„œ ì£¼ì˜í•´ì•¼ í•  ì  (ì—†ì„ ìˆ˜ ìˆìŒ)
          example: "ì„œë¡œì˜ ì†ë„ ì°¨ì´ë¥¼ ì¸ì •í•´ì•¼ í•œë‹¤"

    PersonaProfileResponse:
      type: object
      description: |
        êµ¬ë¦„ ìœ í˜•ì˜ ìƒì„¸ í”„ë¡œí•„.
        ì§„ë‹¨ ê²°ê³¼ ë˜ëŠ” ìœ í˜• ì†Œê°œ í™”ë©´ì—ì„œ ì‚¬ìš©ë©ë‹ˆë‹¤.
      properties:
        typeKey:
          $ref: '#/components/schemas/CloudType'
        name:
          type: string
          description: êµ¬ë¦„ ìœ í˜•ì˜ í‘œì‹œ ì´ë¦„
          example: "í–‡ì‚´ êµ¬ë¦„"
        emoji:
          type: string
          description: ëŒ€í‘œ ì´ëª¨ì§€
          example: "â˜€ï¸"
        subtitle:
          type: string
          description: í•œ ì¤„ ì†Œê°œ
          example: "ì„¸ìƒì„ ë°ê²Œ ë¹„ì¶”ëŠ” ë”°ëœ»í•œ ë¹›"
        keywords:
          type: array
          description: ì„±ê²© í‚¤ì›Œë“œ (3~5ê°œ)
          items:
            type: string
          example: ["ë°ì€", "ë”°ëœ»í•œ", "ì‚¬êµì ì¸", "ë‚™ì²œì ì¸"]
        lore:
          type: string
          description: êµ¬ë¦„ ìœ í˜•ì— ëŒ€í•œ ì„œì‚¬ì  ì„¤ëª… (ì„¸ê³„ê´€ ê¸°ë°˜)
          example: "í•˜ëŠ˜ ìœ„ì—ì„œ ê°€ì¥ ë¨¼ì € ë¹›ì„ ë°›ì•„ë“¤ì´ëŠ” êµ¬ë¦„..."
        strengths:
          type: array
          description: ì´ ìœ í˜•ì˜ ê°•ì  ëª©ë¡
          items:
            type: string
          example: ["ì‚¬ëŒë“¤ì—ê²Œ ì—ë„ˆì§€ë¥¼ ì¤Œ", "ì–´ë””ì„œë“  ë¶„ìœ„ê¸°ë¥¼ ë°í˜"]
        shadows:
          type: array
          description: ì´ ìœ í˜•ì˜ ê·¸ë¦¼ì(ì•½ì ) ëª©ë¡
          items:
            type: string
          example: ["ìì‹ ì˜ ê°ì •ì„ ìˆ¨ê¸°ëŠ” ê²½í–¥", "ë¬´ë¦¬í•´ì„œë¼ë„ ë°ê²Œ í–‰ë™í•¨"]
